<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

   <!-- GLOBAL -->

   <!-- Share config that always will be applied  -->
   <bean id="ak.dm.config" class="org.springframework.extensions.config.ConfigBootstrap" init-method="register">
      <property name="configService" ref="web.config" />
      <property name="configs">
         <list>
            <value>classpath:alfresco/web-extension/ak-share-dm-forms-config.xml</value>
            <value>classpath:alfresco/web-extension/ak-share-dm-workflow-forms-config.xml</value>
         </list>
      </property>
   </bean>

   <!-- I18N -->

   <!-- Add AK messages -->
   <bean id="ak.dm.resources" class="org.springframework.extensions.surf.util.ResourceBundleBootstrapComponent">
      <property name="resourceBundles">
         <list>            
            <value>alfresco.messages.content-model</value>
            <value>alfresco.messages.ak-dm</value>
         </list>
      </property>
   </bean>
   
   <!-- Override Sharepoint bean definitions 
	
	<bean id="evaluator.doclib.action.onlineEditMimetype" parent="evaluator.doclib.action.isMimetype">
      <property name="mimetypes">
         <list>
            <value>application/vnd.ms-excel</value>
            <value>application/vnd.ms-powerpoint</value>
            <value>application/msword</value>
            <value>application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</value>
            <value>application/vnd.openxmlformats-officedocument.presentationml.presentation</value>
            <value>application/vnd.openxmlformats-officedocument.wordprocessingml.document</value>
            <value>application/vnd.ms-word.document.macroenabled.12</value>
            <value>application/vnd.ms-word.template.macroenabled.12</value>
            <value>application/vnd.ms-excel.sheet.macroenabled.12</value>
            <value>application/vnd.ms-excel.template.macroenabled.12</value>
            <value>application/vnd.ms-powerpoint.presentation.macroenabled.12</value>
            <value>application/vnd.ms-powerpoint.template.macroenabled.12</value>
            <value>application/vnd.oasis.opendocument.presentation</value>
            <value>application/vnd.oasis.opendocument.spreadsheet</value>
            <value>application/vnd.oasis.opendocument.text</value>
         </list>
      </property>
   </bean>
   -->
   
   <bean id="evaluator.doclib.action.onlineEdit" parent="evaluator.doclib.action.chainedMatchAll">
      <property name="evaluators">
         <list>
            <!-- <ref bean="evaluator.doclib.action.siteBased" /> -->
            <ref bean="evaluator.doclib.action.onlineEditVtiServer" />
            <ref bean="evaluator.doclib.action.onlineEditMimetype" />
            <ref bean="evaluator.doclib.action.notEditBrowser" />
         </list>
      </property>
   </bean>
</beans>