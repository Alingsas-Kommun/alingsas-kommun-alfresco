<?xml version='1.0' encoding='UTF-8'?>

<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <!-- ByggReda -->
  <bean id="se.alingsas.alfresco.repo.utils.byggreda.ByggRedaUtil" class="se.alingsas.alfresco.repo.utils.byggreda.ByggRedaUtil">
    <property name="fileFolderService" ref="FileFolderService" />
    <property name="siteService" ref="SiteService" />
    <property name="nodeService" ref="NodeService" />
    <property name="versionService" ref="VersionService" />
    <property name="contentService" ref="ContentService" />
    <property name="checkOutCheckInService" ref="CheckOutCheckInService" />
    <property name="transactionService" ref="TransactionService" />
    <!-- SourceType can either be filesystem or repository, where repository is within the ByggReda site -->
    <property name="sourceType" value="${byggreda.sourceType}" />
    <property name="siteName" value="${byggreda.siteName}" />
    <property name="destinationPath" value="${byggreda.destinationFolder}" />
    <property name="logPath" value="${byggreda.logPath}" />
    <property name="outputPath" value="${byggreda.outputPath}" />

    <property name="globalProperties">
      <ref bean="global-properties" />
    </property>
  </bean>

  <bean id="se.alingsas.alfresco.repo.forms.processor.TemplatedContentFilter" class="se.alingsas.alfresco.repo.forms.processor.TemplatedContentFilter" parent="baseFormFilter">
    <property name="filterRegistry" ref="typeFilterRegistry" />
    <property name="serviceRegistry" ref="ServiceRegistry" />
  </bean>

  <bean id="documentNumberUtil" class="se.alingsas.alfresco.repo.utils.documentnumber.DocumentNumberUtil">
    <property name="serviceRegistry" ref="ServiceRegistry" />
    <property name="repositoryHelper" ref="repositoryHelper" />
    <property name="retryingTransactionHelper" ref="retryingTransactionHelper" />
  </bean>



</beans>
